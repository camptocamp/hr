<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record model="ir.module.category" id="module_hr_appraisal">
        <field name="name">Hr Appraisal</field>
        <field name="sequence">12</field>
    </record>

    <!-- groups -->
    <record id="appraisal_user" model="res.groups">
        <field name="name">User</field>
        <field name="category_id" ref="base.module_category_hr_appraisal"/>
    </record>
    <!-- record rules -->
    <record id="appraisal_users" model="ir.rule">
        <field name="name">appraisals.user</field>
        <field name="model_id" ref="model_hr_appraisal"/>
        <field name="groups"
               eval="[(4,ref('bso_appraisal_signature.appraisal_user'))]"/>
        <field name="domain_force">['|', ('employee_id.user_id', '=', user.id),
            ('manager_ids.user_id', 'in', [user.id])]
        </field>
    </record>
    <record id="survey_user" model="ir.rule">
        <field name="name">Survey User</field>
        <field name="model_id" ref="model_survey_user_input"/>
        <field name="domain_force">['|', ('appraisal_id.employee_id.user_id',
            '=', user.id), ('appraisal_id.manager_ids.user_id', 'in',
            [user.id])]
        </field>
        <field name="groups"
               eval="[(4,ref('bso_appraisal_signature.appraisal_user'))]"/>
    </record>
</odoo>
