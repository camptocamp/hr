<odoo>
    <record id="cease_order_form" model="ir.ui.view">
        <field name="name">cease.order.form</field>
        <field name="model">cease.order</field>
        <field name="arch" type="xml">
            <form create="0">
                <header>
                    <button name="action_confirm"
                            string="Confirm"
                            type="object"
                            class="btn-primary"
                            attrs="{'invisible':[('state', 'in', ('confirm', 'cease', 'abort'))]}"
                    />
                    <button name="action_cease"
                            string="Cease"
                            type="object"
                            class="btn-primary"
                            attrs="{'invisible':[('state', '!=', 'confirm')]}"
                    />
                    <button name="action_hold"
                            string="On Hold"
                            type="object"
                            class="btn"
                            attrs="{'invisible':[('state', 'in', ('cease', 'hold'))]}"
                    />
                    <button name="action_abort"
                            string="Abort"
                            type="object"
                            class="btn"
                            attrs="{'invisible':[('state', 'in', ('abort', 'cease'))]}"
                    />
                    <button name="action_draft"
                            string="Reset to draft"
                            type="object"
                            class="btn"
                            attrs="{'invisible':[('state', '=', 'draft')]}"
                    />
                    <field name="state" widget="statusbar"
                           statusbar_visible="new,confirm,cease"
                    />
                </header>
                <sheet>
                    <div class="oe_button_box">
                        <button name="action_get_purchases"
                                type="object"
                                icon="fa-credit-card"
                                class="oe_stat_button"
                                groups="purchase.group_purchase_user">
                            <field name="purchase_count"
                                   widget="statinfo"
                                   string="Purchases"/>
                        </button>
                    </div>
                    <div class="oe_title">
                        <h1>
                            <field name="name" readonly="True"/>
                        </h1>
                    </div>
                    <group col="3" colspan="2">
                        <field name="processing_stage"/>
                        <button string="&#8658; Next Stage"
                                class="oe_link oe_right"
                                help="Next Stage"
                                name="action_next_processing_stage"
                                type="object"
                                attrs="{'invisible':[('processing_stage', '=', 'valid')]}"
                        />
                    </group>
                    <group>
                        <div class="oe_left">
                            <group>
                                <field name="submitter" readonly="1"/>
                                <field name="user_id" readonly="1"/>
                                <field name="subscription_id" readonly="1"/>
                                <field name="project_id" readonly="1"/>
                            </group>
                            <group>
                                <field name="partner_id" readonly="1"/>
                                <field name="customer_contact"/>
                                <field name="provisioning_contact"/>
                            </group>
                        </div>
                        <div class="oe_right">
                            <group>
                                <field name="close_reason_id"
                                       readonly="1"/>
                                <field name="reason_description"/>
                            </group>
                            <group>
                                <field name="requested_date"/>
                                <field name="notice_period"/>
                                <field name="cease_date"/>
                                <field name="confirmation_date"/>
                                <field name="forecast_date"/>
                            </group>
                        </div>
                    </group>

                    <notebook>
                        <page string="Cease lines">
                            <field name="cease_line_ids">
                                <tree>
                                    <field name="product_id"/>
                                    <field name="name"/>
                                    <field name="quantity"/>
                                    <field name="sold_quantity"/>
                                    <field name="uom_id"/>
                                    <field name="price_unit"/>
                                    <field name="discount"/>
                                    <field name="price_subtotal"/>
                                </tree>
                            </field>
                        </page>
                        <page string="Reporting">
                            <group>
                                <field name="currency_id" invisible="1"/>
                                <field name="usd_currency_id"
                                       invisible="1"/>
                                <field name="cease_type"/>
                                <field name="loss_mrr"
                                       options="{'currency_field': 'currency_id'}"/>
                                <field name="loss_mrr_usd"
                                       options="{'currency_field': 'usd_currency_id'}"/>
                            </group>
                        </page>
                    </notebook>
                    <group>
                        <field name="notes"/>
                    </group>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids"
                           widget="mail_followers"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
            </form>
        </field>
    </record>
    <record id="cease_order_tree" model="ir.ui.view">
        <field name="name">cease.order.tree</field>
        <field name="model">cease.order</field>
        <field name="arch" type="xml">
            <tree create="0">
                <field name="name"/>
                <field name="subscription_id"/>
                <field name="partner_id"/>
                <field name="project_id"/>
                <field name="cease_date"/>
                <field name="forecast_date"/>
                <field name="close_reason_id"/>
                <field name="cease_type"/>
                <field name="state"/>
            </tree>
        </field>
    </record>
    <act_window
            id="action_view_cease"
            name="Ceases"
            res_model="cease.order"
            view_mode="tree,form,graph,pivot"/>
    <menuitem
            id="menu_cease"
            name="Ceases"
            action="action_view_cease"
            parent="sales_team.menu_sales"/>
</odoo>