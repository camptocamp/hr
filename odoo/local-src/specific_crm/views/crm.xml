<?xml version="1.0" encoding="UTF-8"?>

<odoo>

    <record model="ir.ui.view" id="crm_case_form_view_oppor_bso">
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_case_form_view_oppor"/>
        <field name="arch" type="xml">
            <xpath expr="//label[@for='planned_revenue']/parent::div/parent::h2" position="before">
                <h2 class="o_row">
                    <div>
                        <label for="planned_duration"/>
                        <div class="o_row">
                            <field name="planned_duration"/>
                            <span>months </span>
                        </div>
                    </div>
                </h2><br/>
                <h2 class="o_row">
                    <div>
                        <label for="planned_revenue_nrc"/>
                        <div class="o_row">
                            <field name="company_currency" invisible="1"/>
                            <field name="planned_revenue_nrc" widget='monetary' options="{'currency_field': 'company_currency'}"/>
                        </div>
                    </div>
                    <div>
                        <label for="planned_revenue_mrc"/>
                        <div class="o_row">
                            <field name="company_currency" invisible="1"/>
                            <field name="planned_revenue_mrc" widget='monetary' options="{'currency_field': 'company_currency'}"/>
                        </div>
                    </div>
                </h2><br/>
            </xpath>
        </field>
    </record>


    <record model="ir.ui.view" id="crm_case_tree_view_oppor_bso">
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_case_tree_view_oppor"/>
        <field name="arch" type="xml">
            <field name="planned_revenue" position="before">
                <field name="planned_duration"/>
                <field name="planned_revenue_nrc"/>
                <field name="planned_revenue_mrc"/>
            </field>
        </field>
    </record>


     <record model="ir.ui.view" id="crm_case_kanban_view_oppor_bso">
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_case_kanban_view_leads"/>
        <field name="arch" type="xml">
            <field name="company_currency" position="after">
                <field name="planned_duration"/>
                <field name="planned_revenue_nrc"/>
                <field name="planned_revenue_mrc"/>
            </field>
            <xpath expr="//div[@class='o_kanban_footer']" position="before">
                <div class="text-muted">
                    <t t-if="record.planned_duration.raw_value">
                        <field name="planned_duration"/>
                        <span> month(s)</span>
                    </t>
                </div>
                <div class="text-muted">
                   <t t-if="record.planned_revenue_nrc.raw_value">
                       <field name="planned_revenue_nrc" widget="monetary" options="{'currency_field': 'company_currency'}"/>
                       <span t-if="record.planned_revenue_nrc.value"> NRC</span>
                   </t>
                </div>
                <div class="text-muted">
                   <t t-if="record.planned_revenue_mrc.raw_value">
                       <field name="planned_revenue_mrc" widget="monetary" options="{'currency_field': 'company_currency'}"/>
                       <span t-if="record.planned_revenue_mrc.value"> MRC</span>
                   </t>
                </div>
            </xpath>
        </field>
     </record>


</odoo>